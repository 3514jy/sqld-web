<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SQLD Chapter 19: PIVOT & ê³ ê¸‰ ì§‘ê³„</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Noto Sans KR', sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding-top: 60px; padding-bottom: 20px; }
.container { max-width: 1200px; margin: 0 auto; padding: 10px 20px; }
.header { background: white; border-radius: 20px; padding: 30px; margin-bottom: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); text-align: center; }
.header h1 { color: #667eea; font-size: 2em; margin-bottom: 10px; }
.chapter-badge { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 10px 30px; border-radius: 20px; display: inline-block; font-weight: bold; margin-bottom: 15px; }
.webtoon-panel { background: white; border-radius: 20px; padding: 30px; margin-bottom: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
.webtoon-title { font-size: 2em; color: #667eea; margin-bottom: 30px; text-align: center; font-weight: bold; }
.comic-panel { background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%); border: 4px solid #667eea; border-radius: 20px; padding: 25px; margin-bottom: 25px; }
.code-box { background: #2d2d2d; color: #f8f8f2; padding: 20px; border-radius: 10px; font-family: 'Courier New', monospace; margin: 15px 0; overflow-x: auto; font-size: 0.95em; }
.memory-box { background: linear-gradient(135deg, #fff3cd 0%, #ffe69c 100%); border: 5px solid #ffc107; border-radius: 20px; padding: 30px; margin: 30px 0; box-shadow: 0 10px 25px rgba(255, 193, 7, 0.3); }
.memory-box h3 { color: #856404; font-size: 1.8em; margin-bottom: 20px; text-align: center; }
.memory-keyword { font-size: 3em; font-weight: bold; color: #ff6b6b; text-align: center; margin: 20px 0; text-shadow: 3px 3px 6px rgba(0,0,0,0.1); letter-spacing: 5px; }
.exam-point { background: linear-gradient(135deg, #ff6b6b 0%, #feca57 100%); color: white; padding: 25px; border-radius: 15px; margin: 25px 0; box-shadow: 0 10px 25px rgba(255, 107, 107, 0.3); }
.exam-point h3 { font-size: 1.6em; margin-bottom: 15px; }
.exam-point ul { margin-left: 25px; line-height: 2; }
.exam-point li { margin: 10px 0; font-size: 1.1em; }
.highlight { background: linear-gradient(transparent 60%, #ffd89b 60%); font-weight: bold; padding: 2px 6px; }
.complete-btn { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 15px 40px; border-radius: 25px; font-size: 1.2em; cursor: pointer; margin-top: 20px; width: 100%; font-weight: bold; }
</style>
</head>
<body>
<div class="container">
<div class="header"><div class="chapter-badge">ğŸ“š Chapter 19</div><h1>PIVOT & ê³ ê¸‰ ì§‘ê³„</h1><p style="color: #666; margin-top: 10px; font-size: 1.1em;">ë°ì´í„° ë³€í™˜ì˜ ê³ ê¸‰ ê¸°ë²•!</p></div>
<div class="webtoon-panel"><div class="webtoon-title">ğŸ¬ PIVOT & ê³ ê¸‰ ì§‘ê³„!</div>

<div class="comic-panel">
<h3 style="color: #667eea; font-size: 1.5em; margin-bottom: 15px;">PIVOTì´ë€?</h3>
<p style="font-size: 1.1em; line-height: 1.8; color: #333;">
<span class="highlight">í–‰ì„ ì—´ë¡œ íšŒì „!</span><br><br>
ì„¸ë¡œ ë°ì´í„° â†’ ê°€ë¡œ ë°ì´í„° ë³€í™˜
</p>
<div class="code-box">-- ê¸°ë³¸ êµ¬ì¡°
SELECT *
FROM í…Œì´ë¸”
PIVOT (
    ì§‘ê³„í•¨ìˆ˜(ì§‘ê³„ì»¬ëŸ¼)
    FOR í”¼ë²—ì»¬ëŸ¼
    IN (ê°’1, ê°’2, ...)
);

-- ì˜ˆì‹œ: ë¶€ì„œë³„ ì§ê¸‰ë³„ ê¸‰ì—¬ í•©ê³„
SELECT *
FROM EMP
PIVOT (
    SUM(SALARY)
    FOR JOB
    IN ('ì‚¬ì›', 'ëŒ€ë¦¬', 'ê³¼ì¥')
);</div>
</div>

<div class="comic-panel">
<h3 style="color: #667eea; font-size: 1.5em; margin-bottom: 15px;">UNPIVOT - ì—­ë³€í™˜!</h3>
<p style="font-size: 1.1em; line-height: 1.8; color: #333;">
<span class="highlight">ì—´ì„ í–‰ìœ¼ë¡œ íšŒì „!</span><br><br>
ê°€ë¡œ ë°ì´í„° â†’ ì„¸ë¡œ ë°ì´í„° ë³€í™˜
</p>
<div class="code-box">-- ê¸°ë³¸ êµ¬ì¡°
SELECT *
FROM í…Œì´ë¸”
UNPIVOT (
    ê°’ì»¬ëŸ¼
    FOR ì´ë¦„ì»¬ëŸ¼
    IN (ì»¬ëŸ¼1, ì»¬ëŸ¼2, ...)
);</div>
</div>

<div class="comic-panel">
<h3 style="color: #667eea; font-size: 1.5em; margin-bottom: 15px;">ROLLUP - ì†Œê³„!</h3>
<p style="font-size: 1.1em; line-height: 1.8; color: #333; margin-bottom: 15px;">
<strong>ê³„ì¸µë³„ ì†Œê³„ì™€ ì´ê³„ ìë™ ìƒì„±!</strong>
</p>
<div class="code-box">-- ë¶€ì„œë³„, ì§ê¸‰ë³„ ì†Œê³„ + ì´ê³„
SELECT 
    DEPT, 
    JOB, 
    SUM(SALARY)
FROM EMP
GROUP BY ROLLUP(DEPT, JOB);

-- ê²°ê³¼ ì˜ˆì‹œ:
-- ê°œë°œ, ì‚¬ì›, 1000
-- ê°œë°œ, ëŒ€ë¦¬, 1500
-- ê°œë°œ, NULL, 2500  â† ê°œë°œë¶€ ì†Œê³„
-- ì˜ì—…, ì‚¬ì›, 1200
-- ì˜ì—…, NULL, 1200  â† ì˜ì—…ë¶€ ì†Œê³„
-- NULL, NULL, 3700  â† ì „ì²´ ì´ê³„</div>
</div>

<div class="comic-panel">
<h3 style="color: #667eea; font-size: 1.5em; margin-bottom: 15px;">CUBE - ëª¨ë“  ì¡°í•©!</h3>
<p style="font-size: 1.1em; line-height: 1.8; color: #333; margin-bottom: 15px;">
<strong>ëª¨ë“  ê°€ëŠ¥í•œ ì¡°í•©ì˜ ì†Œê³„ ìƒì„±!</strong>
</p>
<div class="code-box">-- ëª¨ë“  ì¡°í•©ì˜ ì†Œê³„
SELECT 
    DEPT, 
    JOB, 
    SUM(SALARY)
FROM EMP
GROUP BY CUBE(DEPT, JOB);

-- ROLLUPë³´ë‹¤ ë” ë§ì€ ê²°ê³¼!
-- (DEPT, JOB), (DEPT, NULL), 
-- (NULL, JOB), (NULL, NULL)</div>
<div style="margin-top: 20px; padding: 20px; background: #fff3cd; border-radius: 10px;">
<h4 style="color: #856404; margin-bottom: 10px;">ğŸ” ROLLUP vs CUBE</h4>
<p style="color: #333; line-height: 1.8;">
<strong>ROLLUP:</strong> ê³„ì¸µ êµ¬ì¡° (ë¶€ì„œâ†’ì§ê¸‰)<br>
<strong>CUBE:</strong> ëª¨ë“  ì¡°í•© (ë¶€ì„œë³„, ì§ê¸‰ë³„, ì „ì²´)
</p>
</div>
</div>

<div class="comic-panel">
<h3 style="color: #667eea; font-size: 1.5em; margin-bottom: 15px;">GROUPING SETS - ì›í•˜ëŠ” ì¡°í•©ë§Œ!</h3>
<p style="font-size: 1.1em; line-height: 1.8; color: #333; margin-bottom: 15px;">
<strong>ì›í•˜ëŠ” ê·¸ë£¹ë§Œ ì„ íƒ!</strong>
</p>
<div class="code-box">-- ë¶€ì„œë³„, ì§ê¸‰ë³„ ê°ê° ì§‘ê³„ (ì¡°í•© X)
SELECT 
    DEPT, 
    JOB, 
    SUM(SALARY)
FROM EMP
GROUP BY GROUPING SETS(DEPT, JOB);

-- ì—¬ëŸ¬ ì¡°í•© ì§€ì •
GROUP BY GROUPING SETS(
    (DEPT, JOB), 
    (DEPT), 
    ()
);</div>
</div>

<div class="comic-panel">
<h3 style="color: #667eea; font-size: 1.5em; margin-bottom: 15px;">GROUPING í•¨ìˆ˜</h3>
<p style="font-size: 1.1em; line-height: 1.8; color: #333; margin-bottom: 15px;">
<strong>ì†Œê³„/ì´ê³„ í–‰ êµ¬ë¶„!</strong>
</p>
<div class="code-box">-- GROUPING í•¨ìˆ˜ë¡œ ì†Œê³„ êµ¬ë¶„
SELECT 
    DEPT,
    JOB,
    SUM(SALARY),
    GROUPING(DEPT) AS GRP_DEPT,
    GROUPING(JOB) AS GRP_JOB
FROM EMP
GROUP BY ROLLUP(DEPT, JOB);

-- CASEì™€ í•¨ê»˜ ì‚¬ìš©
SELECT 
    CASE 
        WHEN GROUPING(DEPT) = 1 
        THEN 'ì „ì²´' 
        ELSE DEPT 
    END AS ë¶€ì„œ,
    SUM(SALARY)
FROM EMP
GROUP BY ROLLUP(DEPT);</div>
</div>

<div class="memory-box">
<h3>ğŸ¯ ê³ ê¸‰ ì§‘ê³„ ì•”ê¸°ë²•!</h3>
<div class="memory-keyword">í”¼ë¡¤íê·¸</div>
<div style="font-size: 1.4em; text-align: center; color: #495057; font-weight: bold; margin: 20px 0;">
ğŸ² "í”¼ì ë¡¤ íë¸Œ ê·¸ë¦´!"
</div>
<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 15px; margin-top: 25px;">
<div style="background: white; padding: 20px; border-radius: 15px; text-align: center; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
<div style="font-size: 2.5em; font-weight: bold; color: #667eea; margin-bottom: 10px;">í”¼</div>
<div style="font-size: 1em; color: #495057; font-weight: bold;">PIVOT<br>í–‰â†’ì—´</div>
</div>
<div style="background: white; padding: 20px; border-radius: 15px; text-align: center; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
<div style="font-size: 2.5em; font-weight: bold; color: #667eea; margin-bottom: 10px;">ë¡¤</div>
<div style="font-size: 1em; color: #495057; font-weight: bold;">ROLLUP<br>ì†Œê³„</div>
</div>
<div style="background: white; padding: 20px; border-radius: 15px; text-align: center; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
<div style="font-size: 2.5em; font-weight: bold; color: #667eea; margin-bottom: 10px;">í</div>
<div style="font-size: 1em; color: #495057; font-weight: bold;">CUBE<br>ëª¨ë“ ì¡°í•©</div>
</div>
<div style="background: white; padding: 20px; border-radius: 15px; text-align: center; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
<div style="font-size: 2.5em; font-weight: bold; color: #667eea; margin-bottom: 10px;">ê·¸</div>
<div style="font-size: 1em; color: #495057; font-weight: bold;">GROUPING SETS<br>ì„ íƒì¡°í•©</div>
</div>
</div>
</div>

<div class="exam-point">
<h3>ğŸ¯ ì‹œí—˜ í•„ìˆ˜ ì•”ê¸°!</h3>
<ul>
<li><strong>í”¼ë¡¤íê·¸</strong> ì•”ê¸°!</li>
<li>PIVOT = í–‰ì„ ì—´ë¡œ</li>
<li>UNPIVOT = ì—´ì„ í–‰ìœ¼ë¡œ</li>
<li>ROLLUP = ê³„ì¸µë³„ ì†Œê³„ (ìˆœì„œ ì¤‘ìš”!)</li>
<li>CUBE = ëª¨ë“  ì¡°í•© ì†Œê³„</li>
<li>GROUPING SETS = ì›í•˜ëŠ” ì¡°í•©ë§Œ</li>
<li>GROUPING(ì»¬ëŸ¼) = ì†Œê³„ë©´ 1, ì•„ë‹ˆë©´ 0</li>
<li>ROLLUP(A, B) â‰  ROLLUP(B, A)</li>
</ul>
</div>

<button onclick="alert('ğŸ‰ ì „ì²´ ì™„ë£Œ!')" class="complete-btn">ğŸ‰ ì „ì²´ 19ê°œ ì±•í„° ì™„ë£Œ!</button>
</div>
</div>
</body>
</html>
